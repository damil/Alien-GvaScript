<html>
  <head>
    <script src="../../../lib/Alien/GvaScript/lib/prototype.js"></script>

    <link href="../../../lib/Alien/GvaScript/lib/GvaScript.css" rel="stylesheet" type="text/css">
    <script src="../../../lib/Alien/GvaScript/lib/GvaScript.js"></script>

    <link href="default.css"  rel="stylesheet"  type="text/css">
    <script src="window.js"></script>

    <script src="durand.js"></script>

    <script>


      function displayChoices() {  
        var keymap = new GvaScript.KeyMap({});
        var km_handler = keymap.eventHandler();
        Event.observe(document, "keydown", km_handler);

        var cl = new GvaScript.ChoiceList(choices, {keymap: keymap});
        var win = new Window("myWin", {
                width     : 350, 
                height    : 400, 
                zIndex    : 100, 
                resizable : true, 
                title     : "Justiciables", 
                draggable : true});

         cl.onPing = function(event) {
           var who = choices[event.index];
           $('result').innerHTML = who.CLE_PARTIE + ": " + who.PRE_PARTIE;
           win.destroy();
           Event.stopObserving(document, "keydown", km_handler);
         };
         cl.onCancel = function(event) {
           $('result').innerHTML = "nobody";
           win.destroy();
           Event.stopObserving(document, "keydown", km_handler);
         };

         win.showCenter();        
         cl.fillContainer(win.getContent());
      }


    </script>


  </head>

  <body>

    <h1>Choice list</h1>


<button onclick="displayChoices()">display choices</button>

<p>
You chose : <span id="result"></span>


  </body>
</html>
